#summary Graphing PDNS using Cacti
= Graphing PDNS using Cacti =
There are several ways to monitor PowerDNS through Cacti, the data template we provide makes use of [http://nagios.sourceforge.net/docs/nrpe/NRPE.pdf NRPE] (Nagios Remote Plugin Executor).

Therefore the following steps will apply just to the above method but with a bit of fiddling you can use it with other input methods such SNMP.

== Configuring PowerDNS Server ==

 * Place *cacti_pdns.rb* under your */usr/local/bin* path
 * If you run your nrpe plugins under an unprivileged user (e.g nagios) then you will have to add to your sudoers file an entry like: 
{{{
nagios ALL = NOPASSWD: /usr/local/bin/cacti_pdns.rb
}}}
 * Create a configuration file for the nrpe plugin and set up the check as follows: 
{{{
command[check_cacti-pdns]=sudo /usr/local/bin/cacti_pdns.rb
}}}

== Configuring Cacti Server ==

 * Import the templates into Cacti through the Console management under Import/Export templates.

     Here will go the import/export screenshot

 * Once imported you will have to set up the Data Sources for the hosts on which you have PowerDNS running in order to fetch the data from them.

     Here will go the data source setup screenshot

 * Last step will be creating the graphs for PowerDNS hosts. As data needs collecting it might take a while for the graphs to show up with some relevant information. 

     Here will go the graphs creation screenshot